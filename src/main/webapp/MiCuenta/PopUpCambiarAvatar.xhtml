<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ice="http://www.icesoft.com/icefaces/component"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:ace="http://www.icefaces.org/icefaces/components">
    <f:view>
        <f:facet name="header">
            <table align="center" width="600px" bgcolor="#2672A1" >
                <tr>
                    <td width="580px" align="center" bgcolor="#2672A1">
                        <ice:outputText style="color: #FFFFFF;"
                                        value="Cambiar Avatar"/>
                    </td>
                    <td width="20px" align="center">
                        <ice:commandButton style="width:20px"
                                           styleClass="button"
                                           action="#{cuenta.cambiarAvatar.cerrarPopUp}"
                                           value="X" partialSubmit="true"/>
                    </td>
                </tr>
            </table>        
        </f:facet>
        <f:facet name="body" >
            <table align="center" width="600"  style="border: 1px black solid" bgcolor="#CCCCCC">
                <tr>
                    <td>
                        <ice:outputText value="Instrucciones"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <ice:outputText value="1. Elija una imagen dando clic en el botón examinar"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <ice:outputText value="2. Cuando haya elegido la imagen de clic al botón Upload"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <ice:outputText value="3. Por últmimo de clic en el botón modificar"/>
                    </td>
                </tr>
                <tr>
                    <td height="1" bgcolor="#FFFFFF" colspan="0"/>
                </tr>
                <tr>
                    <td>
                        <ace:fileEntry id="file-entry" 
                                       maxFileCount="1" 
                                       fileEntryListener="#{cuenta.cambiarAvatar.sampleListener}" 
                                       maxFileSize="#{cuenta.cambiarAvatar.TAMANIO_ARCHIVO}" 
                                       maxTotalSize="#{cuenta.cambiarAvatar.TAMANIO_ARCHIVO}" 
                                       useSessionSubdir="true" 
                                       style="width: 280px"/>
                    </td>
                </tr>
                <tr>
                    <td align="center"> 
                        <h:commandLink value="Upload" onclick="var form = document.getElementById('boton_menu');
                                form.onsubmit();
                                form.submit();"/>
                    </td>    
                </tr>
                <tr>
                    <td height="1" bgcolor="#FFFFFF" colspan="0"/>   
                </tr>
                <tr>
                    <td align="center">
                        <ice:commandButton value="Modificar" action="#{cuenta.cambiarAvatar.modificarAvatar}"
                                           disabled="#{cuenta.cambiarAvatar.bandera}"/>
                    </td>
                </tr>
                <tr>
                    <td align="center">
                        <ice:outputText value="#{cuenta.cambiarAvatar.mensajeError}" style="#{cuenta.cambiarAvatar.color}"/>
                    </td>
                </tr>

            </table>
        </f:facet>

    </f:view>
</html>
